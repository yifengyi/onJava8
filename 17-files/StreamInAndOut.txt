PACKAGE FILES;

IMPORT JAVA.IO.IOEXCEPTION;
IMPORT JAVA.IO.PRINTWRITER;
IMPORT JAVA.NIO.FILE.FILES;
IMPORT JAVA.NIO.FILE.PATH;
IMPORT JAVA.NIO.FILE.PATHS;
IMPORT JAVA.UTIL.STREAM.STREAM;

/**
 * 1.0V CREATED BY WUJF ON 2021-1-7
 */
PUBLIC CLASS STREAMINANDOUT {
  PUBLIC STATIC VOID MAIN(STRING[] ARGS) {
    PATH P = PATHS.GET("SRC", "MAIN", "JAVA", "FILES", "STREAMINANDOUT.JAVA");
    PATH DES = PATHS.GET("SRC", "MAIN", "RESOURCES", "STREAMINANDOUT.TXT");
    TRY (
            STREAM<STRING> INPUT = FILES.LINES(P);
            PRINTWRITER OUTPUT =
                    NEW PRINTWRITER(DES.GETFILENAME().TOSTRING())
    ) {
      INPUT.MAP(STRING::TOUPPERCASE)
              .FOREACHORDERED(OUTPUT::PRINTLN);
    } CATCH (IOEXCEPTION E) {
      THROW NEW RUNTIMEEXCEPTION(E);
    }
  }
}
